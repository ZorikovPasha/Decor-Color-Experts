{"version":3,"sources":["node_modules/browser-pack/_prelude.js","#src/js/main.js","#src/js/modules/popup.js","#src/js/modules/sliders.js","#src/js/modules/survey.js","#src/js/modules/validate.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_sliders","_interopRequireDefault","_popup","_survey","makeInputChosen","$","this","hasClass","siblings","each","idx","label","removeClass","addClass","fancybox","on","surveyItems","survey","enableMoveOn","enableMoveBackw","displayCurrentQuestion","blockSubmit","submitForm","_validate","document","key","valid","closest","slick","slidesToShow","slidesToScroll","infinite","prevArrow","nextArrow","Survey","items","currentQuestion","totalQuestions","isSomethingChosen","currentQuestionInputs","btnNext","btnPrev","prototype","preventDefault","_this","find","prop","_this2","_this3","_this4","jQuery","validator","addMethod","value","element","optional","test","selector","validate","rules","name","isName","phone","required","isPhone","messages","isAgree","messenger"],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import sliders from './modules/sliders'\r\nimport popups from './modules/popup'\r\nimport Survey from './modules/survey'\r\n\r\nfunction makeInputChosen() {\r\n  if ( !$(this).hasClass('active') ) {\r\n    $(this).siblings().each(function(idx, label) {\r\n      $(label).removeClass('active')\r\n    })\r\n    $(this).addClass('active')\r\n  }\r\n}\r\n\r\n$(function() {\r\n\r\n  sliders()\r\n  popups()\r\n\r\n  $('[data-fancybox]').fancybox({});\r\n  $('.item__label').on('click', makeInputChosen)\r\n\r\n  const surveyItems = $('[data-survey-item]')\r\n  const survey = new Survey(surveyItems)\r\n\r\n  survey.enableMoveOn()\r\n  survey.enableMoveBackw()\r\n  survey.displayCurrentQuestion()\r\n  survey.blockSubmit()\r\n  survey.submitForm()\r\n})","import formValidate from './validate'\r\n\r\nfunction popups() {\r\n  $(\"[data-callback]\").on(\"click\", function () {\r\n    $('[data-popup-form]').addClass(\"shown\");\r\n    $(\"body\").addClass(\"lock\");\r\n  });\r\n\r\n  // Закрытие по клавише Esc.\r\n  \r\n  $(document).on(\"keydown\", function (e) {\r\n    if (e.key === \"Escape\") {\r\n      $('[data-popup]').removeClass(\"shown\");\r\n      $(\"body\").removeClass(\"lock\");\r\n    }\r\n  });\r\n\r\n  // переход по кнопке\r\n\r\n  $(\"[data-submit]\").on(\"click\", function() {\r\n    formValidate( $('#popup-form') )\r\n    if ( $('#popup-form').valid() ) {\r\n      $(this).closest('[data-popup]').removeClass(\"shown\");\r\n      $('[data-popup-message]').addClass(\"shown\");\r\n    }\r\n  });\r\n\r\n  $(\"[data-form-submit]\").on(\"click\", function() {\r\n    formValidate( $('#discuss-form') )\r\n    if ( $('#discuss-form').valid() ) {\r\n      $('[data-popup-message]').addClass(\"shown\");\r\n    }\r\n  });\r\n\r\n  // Клик по крестику или по кнопке вернуться окна успеха\r\n\r\n  $(\"[data-close]\").on(\"click\", function () {\r\n    $(this).closest('[data-popup]').removeClass(\"shown\");\r\n    $(\"body\").removeClass(\"lock\");\r\n  });\r\n}\r\n\r\nexport default popups","\r\nfunction sliders() {\r\n  $('.portfolio__slider').slick({\r\n    slidesToShow: 2,\r\n    slidesToScroll: 2,\r\n    infinite: false,\r\n    prevArrow: '<button type=\"button\" class=\"slick-btn slick-prev\"><svg width=\"24\" height=\"25\" viewBox=\"0 0 24 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19 12.5H5\" stroke=\"#373737\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/><path d=\"M12 5.5L5 12.5L12 19.5\" stroke=\"#373737\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg></button>',\r\n    nextArrow: '<button type=\"button\" class=\"slick-btn slick-next\"><svg width=\"24\" height=\"25\" viewBox=\"0 0 24 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M5 12.5H19\" stroke=\"#373737\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/><path d=\"M12 5.5L19 12.5L12 19.5\" stroke=\"#373737\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg></button>',\r\n  })\r\n\r\n  $('.reviews__slider').slick({\r\n    slidesToShow: 4,\r\n    slidesToScroll: 1,\r\n    infinite: false,\r\n    prevArrow: '<button type=\"button\" class=\"slick-btn slick-prev\"><svg width=\"24\" height=\"25\" viewBox=\"0 0 24 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19 12.5H5\" stroke=\"#fff\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/><path d=\"M12 5.5L5 12.5L12 19.5\" stroke=\"#fff\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg></button>',\r\n    nextArrow: '<button type=\"button\" class=\"slick-btn slick-next\"><svg width=\"24\" height=\"25\" viewBox=\"0 0 24 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M5 12.5H19\" stroke=\"#fff\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/><path d=\"M12 5.5L19 12.5L12 19.5\" stroke=\"#fff\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg></button>',\r\n  })\r\n}\r\n\r\nexport default sliders","import formValidate from './validate'\r\n\r\nfunction Survey(items) {\r\n  this.items = items\r\n  this.currentQuestion = 0\r\n  this.totalQuestions = this.items.length\r\n  this.isSomethingChosen = false\r\n\r\n  this.currentQuestionInputs = []\r\n  this.btnNext = $('[data-next]:not([type=\"submit\"])')\r\n  this.btnPrev = $('[data-prev]')\r\n\r\n  // this.prototype.enableMoveOn()\r\n  // this.prototype.enableMoveBackw()\r\n  // this.prototype.displayCurrentQuestion()\r\n}\r\n\r\nSurvey.prototype.blockSubmit = function() {\r\n  $('[data-next]:not([type=\"submit\"])'). on('click', function(e) {\r\n    e.preventDefault()\r\n  })\r\n  $('[data-prev]').on('click', function(e) {\r\n    e.preventDefault()\r\n  })\r\n}\r\n\r\nSurvey.prototype.enableMoveOn = function() {\r\n  this.btnNext.on('click', () => {\r\n    this.currentQuestionInputs = $(this.items[this.currentQuestion]).find('input[required]')\r\n    this.currentQuestionInputs.each((idx) => {\r\n      $(this.currentQuestionInputs[idx]).prop('checked') ? this.isSomethingChosen = true : ''\r\n    })\r\n\r\n    if ( this.isSomethingChosen ) {\r\n      this.currentQuestion += 1\r\n      this.isSomethingChosen = false\r\n      this.displayCurrentQuestion()\r\n    }\r\n  })\r\n}\r\n\r\nSurvey.prototype.enableMoveBackw = function() {\r\n  this.btnPrev.on('click', () => {\r\n    this.currentQuestion -= 1\r\n    this.displayCurrentQuestion()\r\n  })\r\n}\r\n\r\nSurvey.prototype.displayCurrentQuestion = function() {\r\n  this.items.each( (idx) => {\r\n    $(this.items[idx]).removeClass('shown')\r\n  })\r\n  $(this.items[this.currentQuestion]).addClass('shown')\r\n}\r\n\r\nSurvey.prototype.submitForm = function() {\r\n  $('[data-next][type=\"submit\"]').on('click', () => {\r\n    formValidate( $('[data-survey-form]') )\r\n    \r\n    if ( $('[data-survey-form]').valid() ) {\r\n      this.currentQuestion += 1\r\n      this.isSomethingChosen = false\r\n      this.displayCurrentQuestion()\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport default Survey","\r\njQuery.validator.addMethod(\r\n  \"isPhone\",\r\n  function (value, element) {\r\n    return this.optional(element) || /^[0-9-()+]{11,30}/.test(value);\r\n  },\r\n  \"Пожалуйста, введите правильный номер телефона\"\r\n);\r\n\r\njQuery.validator.addMethod(\"isName\", function (value, element) {\r\n  return this.optional(element) || /^[А-ЯЁа-яё]{1,40}$/.test(value);\r\n});\r\n\r\nfunction formValidate(selector) {\r\n  $(selector).validate({\r\n    rules: {\r\n      name: {\r\n        isName: true,\r\n      },\r\n      phone: {\r\n        required: true,\r\n        isPhone: true,\r\n      },\r\n    },\r\n    messages: {\r\n      name: {\r\n        required: \"Введите ваше имя\",\r\n        isName: \"Введите правильное имя\",\r\n      },\r\n      phone: {\r\n        required: \"Введите номер телефона\",\r\n        isPhone: \"Введите правильный номер телефона\",\r\n      },\r\n      isAgree: {\r\n        required: \"Заполните данное поле\",\r\n      },\r\n      messenger: {\r\n        required: \"Заполните данное поле\",\r\n      }\r\n    },\r\n  });\r\n}\r\n\r\nexport default formValidate"]}